const hubConnection=(new signalR.HubConnectionBuilder).withUrl(HubUrl).configureLogging(signalR.LogLevel.Information).build();$(document).ready(function(){hubConnection.on("Send",function(n,t,i,r,u){DialogID===r?($("#chatroom").append(`<div class="mt-2">
                    <div class="d-flex">
                        <b class="border-bottom w-100">`+t+`</b>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span>
                           `+n+`
                        </span>
                        <span id="date">`+i+`</span>
                    </div>
                </div>`),$("#message").val("")):(toastr.info(`Вам пришло новое сообщение от ${t}`),toastr.info(`<a href="~/Dialog/WithId/${r}">
	                        <p>Новое сообщение!</p>
	                        <div class="d-flex">
		                        <div style="background-image: url('${u}'); background-size:cover; background-position:center; width: 40px; height: 40px; border-radius: 100%;"></div>
		                        <div>
			                        <b>${t}</b>
			                        <p>${n}</p>
		                        </div>
	                        </div>
                        </a>`))});document.getElementById("sendBtn").addEventListener("click",function(){let n=document.getElementById("message").value;hubConnection.invoke("Send",n,DialogID)});hubConnection.start()});hubConnection.on("Error",function(n){toastr.error(n)});